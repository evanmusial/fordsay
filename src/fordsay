#!/bin/bash

# Function to create the top of the speech bubble
print_top() {
    local length=$((${#1} + 2))
    printf " "
    for ((i=1; i<=length; i++)); do
        printf "_"
    done
    printf "\n"
}

# Function to create the bottom of the speech bubble
print_bottom() {
    local length=$((${#1} + 2))
    printf " "
    for ((i=1; i<=length; i++)); do
        printf "-"
    done
    printf "\n"
}

# Main function to create the fordsay output
fordsay() {
    local message=$1

    # Create speech bubble
    print_top "$message"
    echo "< $message >"
    print_bottom "$message"

    # Create ASCII art
    echo "     \\    _______"
    echo "     \\  /|_||_\\`.__"
    echo "       (   _    _ _\\"
    echo "      =\`-(_)--(_)-'"
}

# Check if a message was provided
if [ $# -eq 0 ]; then
    local message="do de doo"
    exit 1
fi

# Call fordsay function with the provided message
fordsay "$1"
